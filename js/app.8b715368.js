(function(){"use strict";var e={1468:function(e,o,s){var t={};s.r(t),s.d(t,{j2:function(){return b},db:function(){return A}});var n=s(5130),a=s(6768);function r(e,o,s,t,n,r){const i=(0,a.g2)("NavBar"),u=(0,a.g2)("HomePage");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(i,{isLoggedIn:n.isLoggedIn,userName:n.userName,userPhotoURL:n.userPhotoURL,onLogout:r.handleLogout},null,8,["isLoggedIn","userName","userPhotoURL","onLogout"]),(0,a.bF)(u,{isLoggedIn:n.isLoggedIn},null,8,["isLoggedIn"])])}var i=s(4232);const u={class:"NavBar"},l={class:"NavBar-menu"},d=["src"],c={key:0,class:"user-name"},m={key:1,class:"login-message"},g={key:2,class:"dropdown-menu"};function h(e,o,t,n,r,h){const v=(0,a.g2)("LoginModal");return(0,a.uX)(),(0,a.CE)("nav",u,[o[3]||(o[3]=(0,a.Lk)("h1",{class:"NavBar-brand"},"Lista de Presentes",-1)),(0,a.Lk)("div",l,[(0,a.Lk)("div",{class:"user-section",onClick:o[2]||(o[2]=(...e)=>h.toggleDropdown&&h.toggleDropdown(...e))},[(0,a.Lk)("img",{src:r.isLoggedIn?r.userPhotoURL:s(4441),alt:"Ícone do usuário",class:"user-icon"},null,8,d),r.isLoggedIn?((0,a.uX)(),(0,a.CE)("span",c,"Olá, "+(0,i.v_)(r.userName)+"!",1)):((0,a.uX)(),(0,a.CE)("span",m,"Clique aqui para logar")),r.dropdownOpen?((0,a.uX)(),(0,a.CE)("div",g,[r.isLoggedIn?((0,a.uX)(),(0,a.CE)("button",{key:0,onClick:o[0]||(o[0]=(...e)=>h.logout&&h.logout(...e)),class:"logout-button"},"Logout")):((0,a.uX)(),(0,a.CE)("button",{key:1,onClick:o[1]||(o[1]=(...e)=>h.openLoginModal&&h.openLoginModal(...e)),class:"login-button"},"Login"))])):(0,a.Q3)("",!0)])]),r.showLoginModal?((0,a.uX)(),(0,a.Wv)(v,{key:0,onClose:h.closeLoginModal,onLoginSuccess:h.handleLoginSuccess},null,8,["onClose","onLoginSuccess"])):(0,a.Q3)("",!0)])}function v(e,o,s,t,r,i){return(0,a.uX)(),(0,a.CE)("div",{class:"login-modal-overlay",onClick:o[4]||(o[4]=(...e)=>i.closeModal&&i.closeModal(...e))},[(0,a.Lk)("div",{class:"login-modal",onClick:o[3]||(o[3]=(0,n.D$)((()=>{}),["stop"]))},[o[5]||(o[5]=(0,a.Lk)("h3",null,"Escolha o método de login",-1)),(0,a.Lk)("button",{onClick:o[0]||(o[0]=(...e)=>i.handleGoogleLogin&&i.handleGoogleLogin(...e)),class:"auth-button google"},"Login com Google"),(0,a.Lk)("button",{onClick:o[1]||(o[1]=(...e)=>i.handleFacebookLogin&&i.handleFacebookLogin(...e)),class:"auth-button facebook"},"Login com Facebook"),(0,a.Lk)("button",{onClick:o[2]||(o[2]=(...e)=>i.closeModal&&i.closeModal(...e)),class:"close-button"},"Cancelar")])])}var p=s(7307),L=s(6400),f=s(7617);const k={apiKey:"AIzaSyAASkIK6WN3FdeVvjQpxiOlWFuruQESMjo",authDomain:"",projectId:"babyanthony-36536",storageBucket:"babyanthony-36536.firebasestorage.app",messagingSenderId:"13282213072",appId:"1:13282213072:web:1c7bd3ae98f90769b632d5"},y=(0,L.Wp)(k),b=(0,p.xI)(y),A=(new p.HF,new p.sk,(0,f.aU)(y)),I=(0,p.xI)(t.firebaseApp),R=()=>{const e=new p.HF;return(0,p.df)(I,e)},U=()=>{const e=new p.sk;return(0,p.df)(I,e)},C=()=>(0,p.CI)(I),E=e=>{(0,p.hg)(I,e)};var w={name:"LoginModal",emits:["close","login-success"],methods:{async handleGoogleLogin(){try{const e=await R();this.$emit("login-success",{userName:e.user.displayName,userPhotoURL:e.user.photoURL}),this.closeModal()}catch(e){console.error("Erro ao fazer login com Google:",e)}},async handleFacebookLogin(){try{const e=await U();this.$emit("login-success",{userName:e.user.displayName,userPhotoURL:e.user.photoURL}),this.closeModal()}catch(e){console.error("Erro ao fazer login com Facebook:",e)}},closeModal(){this.$emit("close")}}},N=s(1241);const X=(0,N.A)(w,[["render",v],["__scopeId","data-v-daa06d4c"]]);var q=X,S={name:"NavBar",components:{LoginModal:q},data(){return{isLoggedIn:!1,userName:"",userPhotoURL:"",showLoginModal:!1,dropdownOpen:!1}},methods:{toggleDropdown(){this.dropdownOpen=!this.dropdownOpen},openLoginModal(){this.showLoginModal=!0},closeLoginModal(){this.showLoginModal=!1},handleLoginSuccess(e){this.isLoggedIn=!0,this.userName=e.userName,this.userPhotoURL=e.userPhotoURL||s(4441),this.closeLoginModal()},logout(){C().then((()=>{this.isLoggedIn=!1,this.userName="",this.userPhotoURL=s(4441)})).catch((e=>{console.error("Erro ao fazer logout:",e)}))}},mounted(){E((e=>{e?(this.isLoggedIn=!0,this.userName=e.displayName,this.userPhotoURL=e.photoURL||s(4441)):(this.isLoggedIn=!1,this.userName="",this.userPhotoURL=s(4441))}))}};const O=(0,N.A)(S,[["render",h],["__scopeId","data-v-0b9d0326"]]);var D=O,M=s.p+"img/cut-banner-image.04bc5107.png";const P={key:0,class:"home-page"},Z={key:0,class:"wishlist"},Q={key:1};function j(e,o,s,t,n,r){const i=(0,a.g2)("WishlistItem");return n.itemsLoaded&&n.userChecked?((0,a.uX)(),(0,a.CE)("div",P,[o[1]||(o[1]=(0,a.Lk)("div",{class:"banner"},[(0,a.Lk)("img",{src:M,alt:"Banner do Chá de Bebê",class:"banner-image"})],-1)),o[2]||(o[2]=(0,a.Lk)("h2",null,"Escolha um presentinho pro Anthony! 🥰",-1)),n.items&&n.items.length?((0,a.uX)(),(0,a.CE)("div",Z,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(n.items,(e=>((0,a.uX)(),(0,a.Wv)(i,{key:e.id,item:e,isLoggedIn:n.isLoggedIn,userEmail:n.userEmail,onReserveItem:r.reserveItem,onRemoveReserve:r.removeReservation},null,8,["item","isLoggedIn","userEmail","onReserveItem","onRemoveReserve"])))),128))])):((0,a.uX)(),(0,a.CE)("div",Q,o[0]||(o[0]=[(0,a.Lk)("p",null,"Nenhum item foi cadastrado na lista de presentes.",-1)])))])):(0,a.Q3)("",!0)}s(1454);const B={key:0,class:"wishlist-item"},x={class:"image-container"},K=["src"],T={key:0},F={key:1},H={key:1,class:"references-list"},W=["href"],G=["disabled"];function z(e,o,s,t,n,r){return s.item&&void 0!==s.item.reservas?((0,a.uX)(),(0,a.CE)("div",B,[(0,a.Lk)("div",x,[(0,a.Lk)("img",{src:s.item.imagem||"https://via.placeholder.com/100",alt:"Imagem do item",class:"item-image"},null,8,K)]),(0,a.Lk)("h3",null,(0,i.v_)(s.item.nome),1),(0,a.Lk)("p",null,"Reservas: "+(0,i.v_)(s.item.quantidade)+" / "+(0,i.v_)(s.item.limite),1),s.item.links&&s.item.links.length>0?((0,a.uX)(),(0,a.CE)("button",{key:0,onClick:o[0]||(o[0]=(...e)=>r.toggleReferences&&r.toggleReferences(...e)),class:"reference-button"},[n.showReferences?((0,a.uX)(),(0,a.CE)("span",T,"Esconder")):((0,a.uX)(),(0,a.CE)("span",F,"🔍 Ver Referências"))])):(0,a.Q3)("",!0),n.showReferences?((0,a.uX)(),(0,a.CE)("div",H,[o[3]||(o[3]=(0,a.Lk)("h4",null,"Referências de compra:",-1)),(0,a.Lk)("ul",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.item.links,((e,o)=>((0,a.uX)(),(0,a.CE)("li",{key:o},[(0,a.Lk)("a",{href:e,target:"_blank"},(0,i.v_)(`Loja ${o+1}`),9,W)])))),128))])])):(0,a.Q3)("",!0),(0,a.Lk)("button",{disabled:s.item.quantidade>=s.item.limite||!s.isLoggedIn,onClick:o[1]||(o[1]=(...e)=>r.reserveItem&&r.reserveItem(...e)),class:"reserve-button"}," 🎁 Reservar ",8,G),r.canRemoveReservation?((0,a.uX)(),(0,a.CE)("button",{key:2,onClick:o[2]||(o[2]=(...e)=>r.removeReservation&&r.removeReservation(...e)),class:"remove-button"}," ❌ Remover Reserva ")):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0)}var J={name:"WishlistItem",props:{item:{type:Object,required:!0,default:()=>({})},isLoggedIn:{type:Boolean,required:!0,default:!1},userEmail:{type:String,required:!0,default:""}},data(){return{showReferences:!1}},computed:{canRemoveReservation(){if(!this.isLoggedIn||!this.item||!this.item.reservas)return!1;const e=this.userEmail.replace(/@/g,"_at_").replace(/\./g,"_dot_");return!!this.item.reservas[e]}},methods:{toggleReferences(){this.showReferences=!this.showReferences},reserveItem(){this.item.quantidade<this.item.limite&&this.$emit("reserve-item",this.item)},removeReservation(){this.canRemoveReservation?this.$emit("remove-reserve",this.item):console.log("Usuário não tem permissão para remover esta reserva.")}}};const Y=(0,N.A)(J,[["render",z],["__scopeId","data-v-4db50a6c"]]);var V=Y,_={name:"HomePage",components:{WishlistItem:V},data(){return{items:[],isLoggedIn:!1,user:null,userEmail:"",itemsLoaded:!1,userChecked:!1}},async created(){await this.loadItems(),b.onAuthStateChanged((e=>{this.isLoggedIn=!!e,this.user=e,this.userEmail=e?e.email.replace(/@/g,"_at_").replace(/\./g,"_dot_"):"",this.userChecked=!0}))},methods:{async loadItems(){try{const e=await(0,f.GG)((0,f.rJ)(A,"lista_de_desejos"));this.items=e.docs.map((e=>({id:e.id,...e.data()}))),this.itemsLoaded=!0}catch(e){console.error("Erro ao carregar itens:",e)}},async reserveItem(e){if(this.user)try{const o=(0,f.H9)(A,"lista_de_desejos",e.id),s=await(0,f.x7)(o),t=s.data(),n=this.userEmail,a=t.reservas?.[n]||{quantidade:0},r=a.quantidade+1,i={nome:this.user.displayName||"Nome não fornecido",quantidade:r};await(0,f.mZ)(o,{[`reservas.${n}`]:i,quantidade:(t.quantidade||0)+1}),e.quantidade=(t.quantidade||0)+1,e.reservas={...e.reservas||{},[n]:i},console.log("Reserva feita com sucesso!")}catch(o){console.error("Erro ao fazer a reserva:",o)}else console.log("Usuário não autenticado. Não é possível reservar.")},async removeReservation(e){if(this.user)try{const o=(0,f.H9)(A,"lista_de_desejos",e.id),s=await(0,f.x7)(o),t=s.data(),n=this.userEmail,a=t.reservas?.[n];if(!a)return void console.log("Reserva não encontrada para o usuário atual.");const r=a.quantidade-1;if(r>0)await(0,f.mZ)(o,{[`reservas.${n}.quantidade`]:r,quantidade:t.quantidade-1}),e.reservas[n].quantidade=r;else{const s={...t.reservas};delete s[n],await(0,f.mZ)(o,{reservas:s,quantidade:t.quantidade-1}),delete e.reservas[n]}e.quantidade=t.quantidade-1,console.log("Reserva removida com sucesso!")}catch(o){console.error("Erro ao remover a reserva:",o)}else console.log("Usuário não autenticado. Não é possível remover a reserva.")}}};const $=(0,N.A)(_,[["render",j],["__scopeId","data-v-7da58d54"]]);var ee=$,oe={name:"App",components:{NavBar:D,HomePage:ee},data(){return{isLoggedIn:!1,userName:"",userPhotoURL:""}},methods:{handleLogout(){this.isLoggedIn=!1,this.userName="",this.userPhotoURL=""},handleLoginSuccess({userName:e,userPhotoURL:o}){this.isLoggedIn=!0,this.userName=e,this.userPhotoURL=o||s(4441)}},mounted(){E((e=>{e?(this.isLoggedIn=!0,this.userName=e.displayName,this.userPhotoURL=e.photoURL||s(4441)):this.handleLogout()}))}};const se=(0,N.A)(oe,[["render",r]]);var te=se,ne=s(973);const ae=[{path:"/",name:"Home",component:ee}],re=(0,ne.aE)({history:(0,ne.LA)("/baby_anthony/"),routes:ae});var ie=re,ue=(s(5524),s(7768)),le=s(9616),de=s(1920),ce=s(5741);const me=(0,ue.$N)({components:de,directives:ce,icons:{defaultSet:"mdi",aliases:le.z,sets:{mdi:le.r}},theme:{defaultTheme:"light",themes:{light:{colors:{primary:"#6200ea",secondary:"#03dac6"}}}}});var ge=me;const he=(0,n.Ef)(te);he.use(ie),he.use(ge),he.mount("#app")},4441:function(e){e.exports="data:image/png;base64,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"}},o={};function s(t){var n=o[t];if(void 0!==n)return n.exports;var a=o[t]={exports:{}};return e[t].call(a.exports,a,a.exports,s),a.exports}s.m=e,function(){var e=[];s.O=function(o,t,n,a){if(!t){var r=1/0;for(d=0;d<e.length;d++){t=e[d][0],n=e[d][1],a=e[d][2];for(var i=!0,u=0;u<t.length;u++)(!1&a||r>=a)&&Object.keys(s.O).every((function(e){return s.O[e](t[u])}))?t.splice(u--,1):(i=!1,a<r&&(r=a));if(i){e.splice(d--,1);var l=n();void 0!==l&&(o=l)}}return o}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[t,n,a]}}(),function(){s.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(o,{a:o}),o}}(),function(){s.d=function(e,o){for(var t in o)s.o(o,t)&&!s.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.p="/baby_anthony/"}(),function(){var e={524:0};s.O.j=function(o){return 0===e[o]};var o=function(o,t){var n,a,r=t[0],i=t[1],u=t[2],l=0;if(r.some((function(o){return 0!==e[o]}))){for(n in i)s.o(i,n)&&(s.m[n]=i[n]);if(u)var d=u(s)}for(o&&o(t);l<r.length;l++)a=r[l],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(d)},t=self["webpackChunkbaby_anthony"]=self["webpackChunkbaby_anthony"]||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))}();var t=s.O(void 0,[504],(function(){return s(1468)}));t=s.O(t)})();
//# sourceMappingURL=app.8b715368.js.map